<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Add Card to Start Free Trial – JobHackAI</title>
  <link rel="icon" type="image/png" href="assets/JobHackAI_Logo_favicon-32x32.png">
  <link rel="stylesheet" href="css/tokens.css" />
  <link rel="stylesheet" href="css/main.css" />
  <link rel="stylesheet" href="css/header.css" />
  <link rel="stylesheet" href="css/footer.css" />
  <style>
    body { min-height: 100vh; display: flex; flex-direction: column; }
    .card-container {
      max-width: 420px;
      margin: 3.5rem auto 2.5rem auto;
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 4px 24px rgba(31,41,55,0.07);
      padding: 2.5rem 2rem 2rem 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .card-title {
      font-size: 1.4rem;
      font-weight: 800;
      margin-bottom: 0.7rem;
      color: #232B36;
      text-align: center;
    }
    .card-sub {
      color: #4B5563;
      margin-bottom: 1.2rem;
      font-size: 1.08rem;
      text-align: center;
    }
    .stripe-box,
    #stripeElement,
    .demo-card-input {
      width: 100%;
      box-sizing: border-box;
      max-width: 100%;
    }
    .demo-card-input input {
      width: 100%;
      box-sizing: border-box;
    }
    .StripeElement {
      width: 100% !important;
      box-sizing: border-box;
      max-width: 100%;
    }
    .card-error {
      color: #FF3B30;
      font-size: 0.98rem;
      margin-bottom: 0.7rem;
      text-align: left;
      width: 100%;
      display: none;
    }
    .card-btn {
      width: 100%;
      background: #00E676;
      color: #fff;
      font-weight: 700;
      border: none;
      border-radius: 8px;
      padding: 0.95rem 0;
      font-size: 1.13rem;
      cursor: pointer;
      transition: background 0.18s, box-shadow 0.18s;
      text-decoration: none;
      margin-top: 0.5rem;
    }
    .card-btn:disabled {
      background: #BDBDBD;
      cursor: not-allowed;
    }
    .card-reassure {
      color: #1976D2;
      font-size: 0.98rem;
      margin-top: 1.1rem;
      text-align: center;
    }
    @media (max-width: 600px) {
      .card-container { padding: 1.2rem 0.5rem 1.2rem 0.5rem; max-width: 98vw; }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="container">
      <a href="index.html" class="nav-logo" aria-label="Go to homepage">
        <svg width="24" height="24" fill="none" stroke="#1F2937" stroke-width="2" xmlns="http://www.w3.org/2000/svg">
          <rect x="3" y="7" width="18" height="13" rx="2"/>
          <path d="M8 7V5a2 2 0 012-2h4a2 2 0 012 2v2"/>
        </svg>
        <span>JOBHACKAI</span>
      </a>
    </div>
  </header>
  <main>
    <div class="card-container" role="main" aria-labelledby="card-title">
      <div class="card-title" id="card-title">Add a Card to Start Your Free Trial</div>
      <div class="card-sub" id="cardSub">To unlock your free trial, please add a credit card. <br><strong>You won't be charged until your trial ends.</strong></div>
      <form id="cardForm" autocomplete="off" style="width:100%;">
        <div class="card-error" id="cardError" aria-live="polite"></div>
        <button type="button" class="apple-google-pay-btn" id="appleGooglePayBtn" style="width:100%;background:#232B36;color:#fff;font-weight:700;border:none;border-radius:8px;padding:0.95rem 0;font-size:1.13rem;cursor:pointer;margin-bottom:0.5rem;display:flex;align-items:center;justify-content:center;gap:0.5rem;position:relative;">
          <svg width="24" height="24" fill="none" stroke="#fff" stroke-width="2" style="vertical-align:middle;"><rect x="2" y="2" width="20" height="20" rx="4"/><path d="M7 12h10"/><path d="M12 7v10"/></svg>
          Pay with Apple Pay / Google Pay (Demo)
          <span class="pay-spinner" id="paySpinner" style="display:none;position:absolute;right:1rem;top:50%;transform:translateY(-50%);"><svg width="20" height="20" viewBox="0 0 50 50"><circle cx="25" cy="25" r="20" fill="none" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-dasharray="31.4 31.4" transform="rotate(-90 25 25)"><animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="1s" repeatCount="indefinite"/></circle></svg></span>
        </button>
        <div style="font-size:0.95rem;color:#4B5563;margin-bottom:1rem;text-align:center;">You'll be able to use any card saved to your device.</div>
        <div class="stripe-box" id="stripeElement">
          <!-- Stripe Elements will be injected here -->
          <div style="color:#BDBDBD; text-align: center; padding: 1rem;">
            <div style="margin-bottom: 0.5rem;">Loading secure payment form...</div>
            <div style="font-size: 0.9rem;">Powered by Stripe</div>
          </div>
        </div>
        <button type="submit" class="card-btn" id="cardSubmitBtn" disabled>
          <span class="btn-spinner" id="btnSpinner" style="display:none;vertical-align:middle;margin-right:0.5rem;"><svg width="20" height="20" viewBox="0 0 50 50"><circle cx="25" cy="25" r="20" fill="none" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-dasharray="31.4 31.4" transform="rotate(-90 25 25)"><animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="1s" repeatCount="indefinite"/></circle></svg></span>
          <span id="btnText">Start Free Trial</span>
        </button>
        <div class="legal-links" style="margin-top:1rem;text-align:center;font-size:0.93rem;">
          <a href="privacy.html" style="color:#1976D2;text-decoration:underline;margin-right:1.2rem;">Privacy Policy</a>
          <a href="terms.html" style="color:#1976D2;text-decoration:underline;">Terms of Service</a>
        </div>
      </form>
      <div class="card-reassure">
        <svg width="18" height="18" fill="none" stroke="#1976D2" stroke-width="2" style="vertical-align:middle;margin-right:0.3rem;"><circle cx="9" cy="9" r="8"/><path d="M6 9l2 2 4-4"/></svg>
        100% secure. Cancel anytime during your trial.
      </div>
    </div>
  </main>
  <footer class="site-footer">
    <div class="footer-container">
      <div class="footer-brand">
        <svg class="footer-logo" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="3" y="7" width="18" height="13" rx="2" stroke="#1F2937" stroke-width="2"/>
          <path d="M8 7V5a2 2 0 012-2h4a2 2 0 012 2v2" stroke="#1F2937" stroke-width="2"/>
        </svg>
        <span class="footer-name">JOBHACKAI</span>
      </div>
      <div class="footer-legal">
        <p>© 2025 JobHackAI. All rights reserved.</p>
      </div>
      <div class="footer-links">
        <a href="index.html">Home</a>
        <a href="support.html">Support</a>
        <a href="privacy.html">Privacy</a>
      </div>
    </div>
  </footer>
  
  <!-- Load Stripe integration -->
  <script src="js/stripe-integration.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Apple Pay / Google Pay demo button logic with spinner
      var appleGooglePayBtn = document.getElementById('appleGooglePayBtn');
      var paySpinner = document.getElementById('paySpinner');
      if (appleGooglePayBtn) {
        appleGooglePayBtn.addEventListener('click', function() {
          // TODO: In production, initialize Stripe Payment Request Button here
          // In demo mode, simulate payment success with spinner
          appleGooglePayBtn.disabled = true;
          if (paySpinner) paySpinner.style.display = 'inline-block';
          setTimeout(function() {
            var container = document.querySelector('.card-container');
            if (container) {
              container.innerHTML = `
                <div style="text-align: center; padding: 2rem;">
                  <div style="color: #00E676; font-size: 3rem; margin-bottom: 1rem;">✓</div>
                  <h2 style="color: #232B36; margin-bottom: 1rem;">Payment Successful!</h2>
                  <p style="color: #4B5563;">Your payment with Apple Pay / Google Pay (Demo) was successful. Redirecting to dashboard...</p>
                </div>
              `;
              setTimeout(function() {
                window.location.href = 'dashboard.html';
              }, 2000);
            }
          }, 1200);
        });
      }
      // ...existing plan logic...
      const selectedPlan = localStorage.getItem('selected-plan');
      const planAmount = localStorage.getItem('plan-amount');
      const reassure = document.querySelector('.card-reassure');
      const title = document.getElementById('card-title');
      const sub = document.getElementById('cardSub');
      const button = document.getElementById('cardSubmitBtn');
      const isTrial = !selectedPlan || selectedPlan === 'trial';
      if (isTrial) {
        if (title) title.textContent = 'Start Your Free Trial';
        if (sub) sub.innerHTML = 'To unlock your free trial, please add a credit card.<br><strong>You won't be charged until your trial ends.</strong>';
        if (button) button.textContent = 'Start Free Trial';
        if (reassure) reassure.innerHTML = `<svg width="18" height="18" fill="none" stroke="#1976D2" stroke-width="2" style="vertical-align:middle;margin-right:0.3rem;"><circle cx="9" cy="9" r="8"/><path d="M6 9l2 2 4-4"/></svg> You won't be charged until your trial ends. We'll send you a reminder before billing.`;
      } else {
        if (title) title.textContent = `Add a Card to Subscribe to ${selectedPlan.charAt(0).toUpperCase() + selectedPlan.slice(1)}`;
        if (sub) sub.innerHTML = `To start your ${selectedPlan} subscription, please add a credit card.<br><strong>You'll be charged $${(planAmount/100).toFixed(2)}/month.</strong>`;
        if (button) button.textContent = `Subscribe to ${selectedPlan.charAt(0).toUpperCase() + selectedPlan.slice(1)}`;
        if (reassure) reassure.innerHTML = `<svg width="18" height="18" fill="none" stroke="#1976D2" stroke-width="2" style="vertical-align:middle;margin-right:0.3rem;"><circle cx="9" cy="9" r="8"/><path d="M6 9l2 2 4-4"/></svg> Cancel anytime. No long-term commitment.`;
      }
      // Spinner logic for card submit button
      var cardForm = document.getElementById('cardForm');
      var cardBtn = document.getElementById('cardSubmitBtn');
      var btnSpinner = document.getElementById('btnSpinner');
      var btnText = document.getElementById('btnText');
      if (cardForm && cardBtn && btnSpinner && btnText) {
        cardForm.addEventListener('submit', function() {
          btnSpinner.style.display = 'inline-block';
          btnText.textContent = 'Processing...';
        });
      }
    });
  </script>
</body>
</html> 